<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Upload Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 p-8">
    <div class="max-w-md mx-auto bg-white rounded-lg shadow-lg p-6">
        <h2 class="text-xl font-semibold mb-4">File Upload Test</h2>
        
        <!-- File Upload Area -->
        <div id="uploadArea" class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary transition-colors cursor-pointer mb-4">
            <p class="text-lg font-medium text-gray-700 mb-2">Drop file here</p>
            <p class="text-sm text-gray-500 mb-3">or click to browse</p>
            <button type="button" id="chooseBtn" class="inline-flex items-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-blue-700 transition duration-200">
                <span>Choose File</span>
            </button>
        </div>
        
        <input type="file" id="fileInput" accept=".pdf,.doc,.docx,.txt" style="display: none;">
        
        <div id="result" class="mt-4 p-3 bg-gray-100 rounded text-sm hidden"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const uploadArea = document.getElementById('uploadArea');
            const fileInput = document.getElementById('fileInput');
            const chooseBtn = document.getElementById('chooseBtn');
            const result = document.getElementById('result');
            
            console.log('Elements found:', { uploadArea, fileInput, chooseBtn });
            
            // Button click
            chooseBtn.addEventListener('click', function(e) {
                console.log('Button clicked');
                e.preventDefault();
                e.stopPropagation();
                fileInput.click();
            });
            
            // Area click
            uploadArea.addEventListener('click', function(e) {
                if (e.target.id === 'chooseBtn' || e.target.closest('#chooseBtn')) return;
                console.log('Area clicked');
                fileInput.click();
            });
            
            // File input change
            fileInput.addEventListener('change', function(e) {
                console.log('File changed:', e.target.files);
                if (e.target.files.length > 0) {
                    const file = e.target.files[0];
                    result.textContent = `Selected: ${file.name} (${file.size} bytes, ${file.type})`;
                    result.classList.remove('hidden');
                }
            });
            
            // Drag and drop
            uploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                uploadArea.classList.add('border-primary', 'bg-blue-50');
            });
            
            uploadArea.addEventListener('dragleave', function(e) {
                e.preventDefault();
                uploadArea.classList.remove('border-primary', 'bg-blue-50');
            });
            
            uploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                uploadArea.classList.remove('border-primary', 'bg-blue-50');
                
                if (e.dataTransfer.files.length > 0) {
                    const file = e.dataTransfer.files[0];
                    result.textContent = `Dropped: ${file.name} (${file.size} bytes, ${file.type})`;
                    result.classList.remove('hidden');
                }
            });
        });
    </script>
</body>
</html>